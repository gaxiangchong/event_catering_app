{% extends "base.html" %}

{% block content %}
<div class="form-wrapper">
    <div class="back-nav">
        <a href="{{ url_for('admin.dashboard') }}">
            <span class="material-symbols-rounded">arrow_back</span> Back to Dashboard
        </a>
    </div>
    <h2>{{ 'Edit Event' if event else 'Create New Event' }}</h2>

    <form method="post" class="app-form">
        <div class="form-group">
            <label for="title">Event Title</label>
            <input type="text" id="title" name="title" value="{{ event.title if event else '' }}" required>
        </div>

        <div class="form-group">
            <label for="description">Description</label>
            <textarea id="description" name="description" rows="4"
                style="width:100%; padding: 0.5rem;">{{ event.description if event else '' }}</textarea>
        </div>

        <div class="form-group">
            <label for="date">Date & Time</label>
            <!-- Format for datetime-local is YYYY-MM-DDTHH:mm -->
            <input type="datetime-local" id="date" name="date"
                value="{{ event.date.strftime('%Y-%m-%dT%H:%M') if event else '' }}" required>
        </div>

        <div class="form-group">
            <label for="location">Location</label>
            <input type="text" id="location" name="location" value="{{ event.location if event else '' }}" required>
        </div>

        <div class="form-row">
            <div class="form-group half">
                <label for="fee">Event Fee (RM)</label>
                <input type="number" step="0.01" id="fee" name="fee" value="{{ event.fee if event else '' }}" required>
            </div>
            <div class="form-group half">
                <label for="admin_fee">Admin Fee (RM)</label>
                <input type="number" step="0.01" id="admin_fee" name="admin_fee"
                    value="{{ event.admin_fee if event else '1.00' }}" required>
            </div>
        </div>

        <div class="form-group">
            <label for="capacity">Capacity (Optional)</label>
            <input type="number" id="capacity" name="capacity" value="{{ event.capacity if event else '' }}">
        </div>

        <button type="submit" class="btn-primary">Save Event</button>
    </form>
</div>
{% endblock %}